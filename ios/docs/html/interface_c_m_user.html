<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CloudMine iOS SDK: CMUser Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CloudMine iOS SDK&#160;<span id="projectnumber">1.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('interface_c_m_user.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#properties">Properties</a>  </div>
  <div class="headertitle">
<div class="title">CMUser Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="CMUser" --><!-- doxytag: inherits="CMSerializable-p" -->
<p><code>#import &lt;<a class="el" href="_c_m_user_8h_source.html">CMUser.h</a>&gt;</code></p>

<p>Inherits <a class="el" href="protocol_c_m_serializable-p.html">&lt;CMSerializable&gt;</a>.</p>

<p><a href="class_c_m_user-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(id)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_m_user.html#a40e4ab0f15f843df2d9d03be03685762">initWithUserId:andPassword:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_m_user.html#a3051b10f7ec22fa1a7064ad8d97b1c73">loginWithCallback:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_m_user.html#aadef7929e7f621df7d08c97b11195e97">logoutWithCallback:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_m_user.html#a75cc2286b78639d55992ee35a5a98ad9">createAccountWithCallback:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_m_user.html#adc2b15ea9176fb8756ab1492974c79d6">createAccountAndLoginWithCallback:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_m_user.html#a99b30d2883f01db177619893155308ad">changePasswordTo:from:callback:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_m_user.html#a7d923bd10ddc116d5f39c9b64899ec1e">resetForgottenPasswordWithCallback:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_m_user.html#a1eec107ae4482a7b33f91c824686f926">save:</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_c_m_user.html#a2129f5b1da4b3bdee69876b3a2e7bc26">allUsersWithCallback:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_c_m_user.html#ae5d87ea90f6e05422f492420c3335cd6">searchUsers:callback:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_c_m_user.html#ae43fccb2db39b33eaf97dae80bf73c96">userWithIdentifier:callback:</a></td></tr>
<tr><td colspan="2"><h2><a name="properties"></a>
Properties</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_user.html#aae1ccbb80ad2e0627ea3c0154fe8b822">userId</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_user.html#ac2491f631569e280b4114df4252bb507">password</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_user.html#ae2dc1c3d94fdc3bdddce1d18ca2b783d">token</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">NSDate *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_user.html#a63988bb36f7095fa8cc570fff5d77fc3">tokenExpiration</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_user.html#a92ba3d7982697465bdac7a9e30ae695b">isCreatedRemotely</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_user.html#aa905d59efc4d6edcc4617e55227943a1">isDirty</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_user.html#a71d8b0ea64535a5b3099da6771b4b160">isLoggedIn</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Representation of an end-user in CloudMine. This class manages session state (i.e. tokens and all that).</p>
<p><b>Subclassing Notes</b> You can subclass <code><a class="el" href="interface_c_m_user.html">CMUser</a></code> to add your own user profile fields, if you'd like. <code><a class="el" href="interface_c_m_user.html">CMUser</a></code> conforms to <code><a class="el" href="protocol_c_m_serializable-p.html">CMSerializable</a></code>, so you should implement <code>encodeWithCoder:</code> and <code>initWithCoder:</code> in the same way as you would for a <code><a class="el" href="interface_c_m_object.html">CMObject</a></code> subclass. Be sure to call super's implementation from both of those methods! Your custom fields will be pushed to the server when you first call <a class="el" href="interface_c_m_user.html#a75cc2286b78639d55992ee35a5a98ad9">createAccountWithCallback: (CMUser)</a> or <a class="el" href="interface_c_m_user.html#adc2b15ea9176fb8756ab1492974c79d6">createAccountAndLoginWithCallback: (CMUser)</a>. Upon subsequent logins, the custom fields will be updated with those stored on CloudMine. </p>

<p>Definition at line <a class="el" href="_c_m_user_8h_source.html#l00041">41</a> of file <a class="el" href="_c_m_user_8h_source.html">CMUser.h</a>.</p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a2129f5b1da4b3bdee69876b3a2e7bc26"></a><!-- doxytag: member="CMUser::allUsersWithCallback:" ref="a2129f5b1da4b3bdee69876b3a2e7bc26" args="(CMUserFetchCallback callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) allUsersWithCallback: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_c_m_user_8h.html#abd3eece586565d4c1866f7a885b269e0">CMUserFetchCallback</a>)&#160;</td>
          <td class="paramname"><em>callback</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Asynchronously fetch all the users of this app. This will download the profiles of all the users of your app, and is useful for displaying lists of people to share with or running analytics on your users yourself. On completion, the <code>callback</code> block will be called with an array of <code><a class="el" href="interface_c_m_user.html">CMUser</a></code> objects (or your custom subclass, if applicable) as well as a dictionary of errors.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>The block that will be called on completion of the operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a99b30d2883f01db177619893155308ad"></a><!-- doxytag: member="CMUser::changePasswordTo:from:callback:" ref="a99b30d2883f01db177619893155308ad" args="(NSString *newPassword,[from] NSString *oldPassword,[callback] CMUserOperationCallback callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) changePasswordTo: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>newPassword</em></td>
        </tr>
        <tr>
          <td class="paramkey">from:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>oldPassword</em></td>
        </tr>
        <tr>
          <td class="paramkey">callback:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_c_m_user_8h.html#a103162e6c8dfb13dea703dc3d31664a8">CMUserOperationCallback</a>)&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Asynchronously change the password for this user. For security purposes, you must have the user enter his or her old password and new password in order to perform this operation. This operation will succeed regardless of whether the user's <code><a class="el" href="interface_c_m_user.html">CMUser</a></code> instance is logged in or not. On completion, the <code>callback</code> block will be called with the result of the operation and any messages returned by the server contained in an array. See the CloudMine documentation online for the possible contents of this array.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="interface_c_m_user.html#a7d923bd10ddc116d5f39c9b64899ec1e">- resetForgottenPasswordWithCallback:</a> instead if if the user has forgotten his or her <a class="el" href="interface_c_m_user.html#ac2491f631569e280b4114df4252bb507">password</a></dd></dl>
<p>Possible result codes:</p>
<ul>
<li><code>CMUserAccountPasswordChangeSucceeded</code></li>
<li><code>CMUserAccountPasswordChangeFailedInvalidCredentials</code></li>
<li><code>CMUserAccountOperationFailedUnknownAccount</code></li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">newPassword</td><td>The new password to use. </td></tr>
    <tr><td class="paramname">oldPassword</td><td>The user's old password. </td></tr>
    <tr><td class="paramname">callback</td><td>The block that will be called on completion of the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="_c_m_user_account_result_8h.html#aaf8d3c3117387947ca9c709691b138ee">CMUserAccountResult</a> </dd>
<dd>
<a href="https://cloudmine.me/developer_zone#ref/password_change">https://cloudmine.me/developer_zone#ref/password_change</a> </dd></dl>

</div>
</div>
<a class="anchor" id="adc2b15ea9176fb8756ab1492974c79d6"></a><!-- doxytag: member="CMUser::createAccountAndLoginWithCallback:" ref="adc2b15ea9176fb8756ab1492974c79d6" args="(CMUserOperationCallback callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) createAccountAndLoginWithCallback: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_c_m_user_8h.html#a103162e6c8dfb13dea703dc3d31664a8">CMUserOperationCallback</a>)&#160;</td>
          <td class="paramname"><em>callback</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A convenient method to create an account for the user if it doesn't already exist, and then log the user in if the account was successfully created or already existed. On completion, the <code>callback</code> block will be called with the result of the operation and any messages returned by the server contained in an array. See the CloudMine documentation online for the possible contents of this array.</p>
<p>Possible result codes:</p>
<ul>
<li><code>CMUserAccountLoginSucceeded</code></li>
<li><code>CMUserAccountLoginFailedIncorrectCredentials</code> (if the account already exists and the supplied credentials are incorrect)</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>The block that will be called on completion of the operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a75cc2286b78639d55992ee35a5a98ad9"></a><!-- doxytag: member="CMUser::createAccountWithCallback:" ref="a75cc2286b78639d55992ee35a5a98ad9" args="(CMUserOperationCallback callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) createAccountWithCallback: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_c_m_user_8h.html#a103162e6c8dfb13dea703dc3d31664a8">CMUserOperationCallback</a>)&#160;</td>
          <td class="paramname"><em>callback</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Asynchronously create a new account for the user on CloudMine. This must be done once for each user before they can login. On completion, the <code>callback</code> block will be called with the result of the operation and any messages returned by the server contained in an array. See the CloudMine documentation online for the possible contents of this array.</p>
<p>Note that this method simply creates the user account; it does not log the user in. <a class="el" href="interface_c_m_user.html#adc2b15ea9176fb8756ab1492974c79d6">createAccountAndLoginWithCallback:</a> is a convenience method that creates and logs the user in at the same time.</p>
<p>Possible result codes:</p>
<ul>
<li><code>CMUserAccountCreateSucceeded</code></li>
<li><code>CMUserAccountCreateFailedInvalidRequest</code></li>
<li><code>CMUserAccountCreateFailedDuplicateAccount</code></li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>The block that will be called on completion of the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="_c_m_user_account_result_8h.html#aaf8d3c3117387947ca9c709691b138ee">CMUserAccountResult</a> </dd>
<dd>
<a href="https://cloudmine.me/developer_zone#ref/account_create">https://cloudmine.me/developer_zone#ref/account_create</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a40e4ab0f15f843df2d9d03be03685762"></a><!-- doxytag: member="CMUser::initWithUserId:andPassword:" ref="a40e4ab0f15f843df2d9d03be03685762" args="(NSString *userId,[andPassword] NSString *password)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) initWithUserId: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>userId</em></td>
        </tr>
        <tr>
          <td class="paramkey">andPassword:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize the user with an email address and password. </p>

</div>
</div>
<a class="anchor" id="a3051b10f7ec22fa1a7064ad8d97b1c73"></a><!-- doxytag: member="CMUser::loginWithCallback:" ref="a3051b10f7ec22fa1a7064ad8d97b1c73" args="(CMUserOperationCallback callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) loginWithCallback: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_c_m_user_8h.html#a103162e6c8dfb13dea703dc3d31664a8">CMUserOperationCallback</a>)&#160;</td>
          <td class="paramname"><em>callback</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Asynchronously login the user and create a new session. On completion, the <code>callback</code> block will be called with the result of the operation and any messages returned by the server contained in an array. See the CloudMine documentation online for the possible contents of this array.</p>
<p>Upon successful login, the <a class="el" href="interface_c_m_user.html#ae2dc1c3d94fdc3bdddce1d18ca2b783d">CMUser::token</a> property will be set to the user's new session token and the <a class="el" href="interface_c_m_user.html#ac2491f631569e280b4114df4252bb507">CMUser::password</a> field will be cleared for security reasons. The <a class="el" href="interface_c_m_user.html#a63988bb36f7095fa8cc570fff5d77fc3">CMUser::tokenExpiration</a> property will also be set with the expiration date and time of the session token. In addition, all your custom properties (if you are using a custom subclass of <code><a class="el" href="interface_c_m_user.html">CMUser</a></code>) will be populated for you using key-value coding. All these properties will be set <b>before</b> the callback block is invoked.</p>
<p><b>Important</b> This method will cause the user's profile fields (i.e. any custom fields you have defined on your <a class="el" href="interface_c_m_user.html">CMUser</a> subclass) to be synced with the server state.</p>
<p>Possible result codes:</p>
<ul>
<li><code>CMUserAccountLoginSucceeded</code></li>
<li><code>CMUserAccountLoginFailedIncorrectCredentials</code></li>
<li><code>CMUserAccountOperationFailedUnknownAccount</code></li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>The block that will be called on completion of the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="_c_m_user_account_result_8h.html#aaf8d3c3117387947ca9c709691b138ee">CMUserAccountResult</a> </dd>
<dd>
<a class="el" href="interface_c_m_user.html#a71d8b0ea64535a5b3099da6771b4b160">isLoggedIn</a> </dd>
<dd>
<a href="https://cloudmine.me/developer_zone#ref/account_login">https://cloudmine.me/developer_zone#ref/account_login</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aadef7929e7f621df7d08c97b11195e97"></a><!-- doxytag: member="CMUser::logoutWithCallback:" ref="aadef7929e7f621df7d08c97b11195e97" args="(CMUserOperationCallback callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) logoutWithCallback: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_c_m_user_8h.html#a103162e6c8dfb13dea703dc3d31664a8">CMUserOperationCallback</a>)&#160;</td>
          <td class="paramname"><em>callback</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Asynchronously logout the user and clear their session and session token. On completion, the <code>callback</code> block will be called with the result of the operation and any messages returned by the server contained in an array. See the CloudMine documentation online for the possible contents of this array.</p>
<p>Upon successful logout, the <a class="el" href="interface_c_m_user.html#ae2dc1c3d94fdc3bdddce1d18ca2b783d">CMUser::token</a> and <a class="el" href="interface_c_m_user.html#a63988bb36f7095fa8cc570fff5d77fc3">CMUser::tokenExpiration</a> properties will be set to <code>nil</code>. This will occur <b>before</b> the callback block is invoked.</p>
<p>Possible result codes:</p>
<ul>
<li><code>CMUserAccountLogoutSucceeded</code></li>
<li><code>CMUserAccountOperationFailedUnknownAccount</code></li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>The block that will be called on completion of the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="_c_m_user_account_result_8h.html#aaf8d3c3117387947ca9c709691b138ee">CMUserAccountResult</a> </dd>
<dd>
<a class="el" href="interface_c_m_user.html#a71d8b0ea64535a5b3099da6771b4b160">isLoggedIn</a> </dd>
<dd>
<a href="https://cloudmine.me/developer_zone#ref/account_logout">https://cloudmine.me/developer_zone#ref/account_logout</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a7d923bd10ddc116d5f39c9b64899ec1e"></a><!-- doxytag: member="CMUser::resetForgottenPasswordWithCallback:" ref="a7d923bd10ddc116d5f39c9b64899ec1e" args="(CMUserOperationCallback callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) resetForgottenPasswordWithCallback: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_c_m_user_8h.html#a103162e6c8dfb13dea703dc3d31664a8">CMUserOperationCallback</a>)&#160;</td>
          <td class="paramname"><em>callback</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Asynchronously reset the password for this user. This method is used to reset a user's password if he or she forgot it. This method of course does not require the user to be logged in in order to function. On completion, the <code>callback</code> block will be called with the result of the operation and any messages returned by the server contained in an array. See the CloudMine documentation online for the possible contents of this array.</p>
<p>This method causes an email to be sent to the user with a link that allows them to reset their password from their browser. Upon creating a new password, the user will be able to login with it via your app immediately.</p>
<p>Possible result codes:</p>
<ul>
<li><code>CMUserAccountPasswordResetEmailSent</code></li>
<li><code>CMUserAccountOperationFailedUnknownAccount</code></li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>The block that will be called on completion of the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="_c_m_user_account_result_8h.html#aaf8d3c3117387947ca9c709691b138ee">CMUserAccountResult</a> </dd>
<dd>
<a href="https://cloudmine.me/developer_zone#ref/password_reset">https://cloudmine.me/developer_zone#ref/password_reset</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1eec107ae4482a7b33f91c824686f926"></a><!-- doxytag: member="CMUser::save:" ref="a1eec107ae4482a7b33f91c824686f926" args="(CMUserOperationCallback callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) save: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_c_m_user_8h.html#a103162e6c8dfb13dea703dc3d31664a8">CMUserOperationCallback</a>)&#160;</td>
          <td class="paramname"><em>callback</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Saves this user's profile. If you call this before the user's account has been created server-side, this method is the same as CMUser::createAccountWithCallback. If the account already exists, the profile will be updated server-side to reflect the state of this object.</p>
<p><b>Important implementation note</b> If this user is not logged in, they must first be logged in before a save can be completed. The library will automatically do that for you if the user is logged out. However, this has the effect of ignoring any server-side changes that may have occured since you last synchronized the state of the user's profile data. If you need to synchronize state with the server before modifying the user's profile, you need to first login using <a class="el" href="interface_c_m_user.html#a3051b10f7ec22fa1a7064ad8d97b1c73">loginWithCallback:</a> (which will sync the state of the profile) and <em>then</em> modify the user profile as you wish. After that, calling this method will simply save.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>The block that will be called on completion of the operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae5d87ea90f6e05422f492420c3335cd6"></a><!-- doxytag: member="CMUser::searchUsers:callback:" ref="ae5d87ea90f6e05422f492420c3335cd6" args="(NSString *query,[callback] CMUserFetchCallback callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) searchUsers: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>query</em></td>
        </tr>
        <tr>
          <td class="paramkey">callback:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_c_m_user_8h.html#abd3eece586565d4c1866f7a885b269e0">CMUserFetchCallback</a>)&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Asynchronously search all profiles of users of this app for matching fields. This will download the profiles of all matching users of your app, and is useful for displaying and filtering lists of people to share with or running analytics on your users yourself. On completion, the <code>callback</code> block will be called with an array of <code><a class="el" href="interface_c_m_user.html">CMUser</a></code> objects (or your custom subclass, if applicable) as well as a dictionary of errors.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>The search query to run against all user profiles. This is the same syntax as defined at <a href="https://cloudmine.me/developer_zone#ref/query_syntax">https://cloudmine.me/developer_zone#ref/query_syntax</a> and used by <code><a class="el" href="interface_c_m_store.html">CMStore</a></code>'s search methods. </td></tr>
    <tr><td class="paramname">callback</td><td>The block that will be called on completion of the operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae43fccb2db39b33eaf97dae80bf73c96"></a><!-- doxytag: member="CMUser::userWithIdentifier:callback:" ref="ae43fccb2db39b33eaf97dae80bf73c96" args="(NSString *identifier,[callback] CMUserFetchCallback callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) userWithIdentifier: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>identifier</em></td>
        </tr>
        <tr>
          <td class="paramkey">callback:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_c_m_user_8h.html#abd3eece586565d4c1866f7a885b269e0">CMUserFetchCallback</a>)&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Asynchronously fetch a single user profile object from CloudMine given its object id. You can access this via <a class="el" href="protocol_c_m_serializable-p.html#a030e4239b227f0097e86688b5a4f4947">CMUser::objectId</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">identifier</td><td>The objectId of the user profile to fetch. </td></tr>
    <tr><td class="paramname">callback</td><td>The block that will be called on completion of the operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Property Documentation</h2>
<a class="anchor" id="a92ba3d7982697465bdac7a9e30ae695b"></a><!-- doxytag: member="CMUser::isCreatedRemotely" ref="a92ba3d7982697465bdac7a9e30ae695b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) isCreatedRemotely<code> [read, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><code>YES</code> when the user's account and profile have been created server-side. If <code>NO</code>, it means the user exists only locally in your app. </p>

<p>Definition at line <a class="el" href="_c_m_user_8h_source.html#l00067">67</a> of file <a class="el" href="_c_m_user_8h_source.html">CMUser.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa905d59efc4d6edcc4617e55227943a1"></a><!-- doxytag: member="CMUser::isDirty" ref="aa905d59efc4d6edcc4617e55227943a1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) isDirty<code> [read, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The object is dirty if any changes have been made locally that have not yet been persisted to the server. </p>

<p>Definition at line <a class="el" href="_c_m_user_8h_source.html#l00072">72</a> of file <a class="el" href="_c_m_user_8h_source.html">CMUser.h</a>.</p>

</div>
</div>
<a class="anchor" id="a71d8b0ea64535a5b3099da6771b4b160"></a><!-- doxytag: member="CMUser::isLoggedIn" ref="a71d8b0ea64535a5b3099da6771b4b160" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) isLoggedIn<code> [read, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><code>YES</code> if the user is logged in and <code>NO</code> otherwise. Being logged in is defined by having a session token set and having a token expiration date in the future.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="interface_c_m_user.html#ae2dc1c3d94fdc3bdddce1d18ca2b783d">CMUser::token</a> </dd>
<dd>
<a class="el" href="interface_c_m_user.html#a63988bb36f7095fa8cc570fff5d77fc3">CMUser::tokenExpiration</a> </dd></dl>

<p>Definition at line <a class="el" href="_c_m_user_8h_source.html#l00081">81</a> of file <a class="el" href="_c_m_user_8h_source.html">CMUser.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac2491f631569e280b4114df4252bb507"></a><!-- doxytag: member="CMUser::password" ref="ac2491f631569e280b4114df4252bb507" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) password<code> [read, write, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The user's plaintext password. </p>

<p>Definition at line <a class="el" href="_c_m_user_8h_source.html#l00051">51</a> of file <a class="el" href="_c_m_user_8h_source.html">CMUser.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae2dc1c3d94fdc3bdddce1d18ca2b783d"></a><!-- doxytag: member="CMUser::token" ref="ae2dc1c3d94fdc3bdddce1d18ca2b783d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) token<code> [read, write, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The user's session token, as assigned after a successful login operation. When setting this property, <a class="el" href="interface_c_m_user.html#ac2491f631569e280b4114df4252bb507">CMUser::password</a> will be set to <code>nil</code> for security reasons. </p>

<p>Definition at line <a class="el" href="_c_m_user_8h_source.html#l00057">57</a> of file <a class="el" href="_c_m_user_8h_source.html">CMUser.h</a>.</p>

</div>
</div>
<a class="anchor" id="a63988bb36f7095fa8cc570fff5d77fc3"></a><!-- doxytag: member="CMUser::tokenExpiration" ref="a63988bb36f7095fa8cc570fff5d77fc3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSDate*) tokenExpiration<code> [read, write, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The date and time at which the session token is no longer valid. </p>

<p>Definition at line <a class="el" href="_c_m_user_8h_source.html#l00062">62</a> of file <a class="el" href="_c_m_user_8h_source.html">CMUser.h</a>.</p>

</div>
</div>
<a class="anchor" id="aae1ccbb80ad2e0627ea3c0154fe8b822"></a><!-- doxytag: member="CMUser::userId" ref="aae1ccbb80ad2e0627ea3c0154fe8b822" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) userId<code> [read, write, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The user's identifier (i.e. email address). </p>

<p>Definition at line <a class="el" href="_c_m_user_8h_source.html#l00046">46</a> of file <a class="el" href="_c_m_user_8h_source.html">CMUser.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>ios/src/Web Services/<a class="el" href="_c_m_user_8h_source.html">CMUser.h</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="interface_c_m_user.html">CMUser</a>      </li>
      <li class="footer">Generated on Wed Jun 20 2012 22:01:56 for CloudMine iOS SDK by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
